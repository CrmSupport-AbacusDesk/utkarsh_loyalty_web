<div class="main-container">
  <div class="tools-container">
    <a mat-icon-button matTooltip="Back" (click)="back()">
      <i class="material-icons">arrow_back</i>
    </a>
    <h2>{{Influencer_Detail.influencer_type}} Detail</h2>

    <div class="left-auto df ac flex-gap-10">
      <div class="pagination" *ngIf="(tabType== 'advanceGIft' && giftData.length > 0)">
        <div class="pagination-content">
          Pages
          <span>{{pagenumber}}</span>
          of
          <span>{{total_page}}</span>
        </div>
        <div class="page-nav">
          <button mat-icon-button matTooltip="Older" (click)="pervious(tabType)" [disabled]="start == 0">
            <i class="material-icons">navigate_before</i>
          </button>
          <button mat-icon-button matTooltip="Newer" (click)="nextPage(tabType)" [disabled]="pagenumber == total_page ">
            <i class="material-icons">navigate_next</i>
          </button>
        </div>
      </div>

      <div class="mat-tabbar">
        <button mat-button [ngClass]="{'active' :tabType== 'Profile'}"
        (click)="tabType= 'Profile';InfluencerDetail()"><i class="material-icons">person</i>Basic Detail</button>
        <ng-container>
          <!-- <button mat-button [ngClass]="{'active' :tabType== 'advanceGIft'}"
            (click)="tabType = 'advanceGIft'; getGift();"><i class="material-icons">redeem</i>Advance Gift</button> -->
            <button mat-button [ngClass]="{'active' :tabType== 'transaction'}"
            (click)="tabType = 'transaction'; getLedger()"><i class="material-icons">swap_horiz</i>Wallet
            Transaction</button>

            <button mat-button [ngClass]="{'active' :tabType=='purchase'}"
            (click)="tabType = 'purchase'; purchase_detail('filter')"><i class="material-icons">shop_2</i>Purchase
            Detail</button>
          </ng-container>
        </div>
      </div>
    </div>



    <!-- /////purchase///// -->

    <div class="container pt10 pl10 pr10 pb50 container-scroll">
      <div *ngIf="tabType=='purchase'" style="margin: -10px -10px 0px -10px;">

        <div class="tools-container no-sticky">
          <div class="mat-tabbar" *ngIf="Influencer_Detail.influencer_type!='Distributor' && Influencer_Detail.influencer_type!='Plumber' ">
            <button mat-button [ngClass]="{'active' :Tab_type=='self_purchase'}"
            (click)=" Tab_type='self_purchase';clearFilter(); purchase_detail('filter');">
            <i class="material-icons">receipt_long</i>
            Self Purchase
          </button>
          <button mat-button [ngClass]="{'active' :Tab_type=='other_purchase'}"
          (click)="Tab_type='other_purchase';clearFilter(); purchase_detail('filter'); Tab_type='other_purchase'" *ngIf="Influencer_Detail.influencer_type!='Retailer'">
          <i class="material-icons">receipt_long</i>
          Other Purchase
        </button>
        <button mat-button [ngClass]="{'active' :Tab_type=='other_purchase'}"
        (click)="Tab_type='other_purchase';clearFilter(); purchase_detail('filter'); Tab_type='other_purchase'" *ngIf="Influencer_Detail.influencer_type=='Retailer'">
        <i class="material-icons">receipt_long</i>
        Plumber Purchase
      </button>


    </div>
    <div class="left-auto df flex-gap-10">
      <a mat-icon-button matTooltip="Refresh" (click)="refresh()">
        <i class="material-icons">refresh</i>
      </a>

      <div class="pagination"
      *ngIf="(purchaseDetail.length > 0 && tabType== 'purchase')">
      <div class="pagination-content">
        Pages
        <span>{{pagenumber}}</span>
        of
        <span>{{total_page}}</span>
      </div>
      <div class="page-nav">
        <button mat-icon-button matTooltip="Older" (click)="pervious(tabType)"
        [disabled]="start == 0 || total_page == 0">
        <i class="material-icons">navigate_before</i>
      </button>
      <button mat-icon-button matTooltip="Newer" (click)="nextPage(tabType)"
      [disabled]="pagenumber == total_page || total_page == 0 ">
      <i class="material-icons">navigate_next</i>
    </button>
  </div>
</div>
</div>

</div>

<div class="cs-table horizontal-scroll">
  <div class="sticky-head">
    <div class="table-head">
      <table>
        <tr>
          <th class="w50">Sno.</th>
          <th class="w100">Date Created</th>
          <th class="w100">Purchase ID</th>

          <th class="w100" *ngIf="((Tab_type!= 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Distributor' || Influencer_Detail.influencer_type=='Plumber' || Influencer_Detail.influencer_type=='Dealer')) || (Tab_type== 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Plumber')">Type</th>

          <th class="w200" *ngIf="Tab_type== 'self_purchase' && Influencer_Detail.influencer_type!='Distributor'  && Influencer_Detail.influencer_type!='Plumber' && Influencer_Detail.influencer_type!='Retailer'">Distributor Detail</th>
          <th class="w200" *ngIf=" Tab_type== 'self_purchase' && Influencer_Detail.influencer_type=='Retailer'">Dealer Detail</th>

          <th class="w200" *ngIf="(Tab_type!= 'self_purchase' || Influencer_Detail.influencer_type=='Distributor' || Influencer_Detail.influencer_type=='Plumber') &&  Influencer_Detail.influencer_type!='Retailer'">Influcencer Detail</th>
          <th class="w200" *ngIf="(Tab_type!= 'self_purchase' || Influencer_Detail.influencer_type=='Distributor' || Influencer_Detail.influencer_type=='Plumber') &&  Influencer_Detail.influencer_type=='Retailer'">Plumber Detail</th>


          <th class="w100">Bill Date</th>
          <th class="w150">Bill No.</th>
          <th class="w100">Bill Amount</th>

          <th class="w80">Bill Image</th>
          <!-- <th class="w100 text-center">Qty</th> -->
          <th class="w100 text-center" >Points</th>

          <th class="w100"> Status</th>
          <th class="w200">Reason</th>

          <th class="w150"> Status Updated By</th>

        </tr>
      </table>
    </div>

    <div class="table-head bdrt">
      <table>
        <tr>
          <th class="w50"></th>

          <th class="w100">
            <div class="th-search-acmt">
              <mat-form-field class="cs-input date-column infix-bodr">
                <input matInput [matDatepicker]="picker" placeholder="Date" name="date_created"
                #date_created="ngModel" [(ngModel)]="filter.date_created" (ngModelChange)="purchaseDate_format()"
                [max]="today_date" readonly>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </th>

          <th class="w100">
            <div class="th-search-acmt">
              <mat-form-field>
                <input type="text" matInput placeholder="Search ..." name="pur_id"
                (keyup.enter)="purchase_detail('')" #pur_id="ngModel" [(ngModel)]="filter.pur_id">
              </mat-form-field>
            </div>
          </th>

          <th class="w100 text-center" *ngIf="((Tab_type!= 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Distributor' || Influencer_Detail.influencer_type=='Plumber' || Influencer_Detail.influencer_type=='Dealer')) || (Tab_type== 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Plumber')">
            <div class="th-search-acmt" *ngIf="Influencer_Detail.influencer_type !='Plumber'">
              <mat-form-field class="cs-input select-input">
                <mat-select name="influencer_type" #influencer_type="ngModel" [(ngModel)]="filter.influencer_type"
                (selectionChange)="purchase_detail('')">
                <mat-option value="All">All</mat-option>
                <mat-option value="Distributor" *ngIf="Influencer_Detail.influencer_type=='Plumber'">Distributor</mat-option>
                <mat-option value="Dealer" *ngIf="Influencer_Detail.influencer_type!='Retailer' &&  Influencer_Detail.influencer_type!='Dealer'">Dealer </mat-option>
                <mat-option value="Retailer" *ngIf="Influencer_Detail.influencer_type!='Retailer' && Influencer_Detail.influencer_type!='Distributor'">Retailer</mat-option>
                <mat-option value="Plumber" *ngIf="Influencer_Detail.influencer_type!='Plumber'">Plumber</mat-option>


              </mat-select>
            </mat-form-field>
          </div>

          <div class="th-search-acmt" *ngIf="Influencer_Detail.influencer_type =='Plumber'">
            <mat-form-field class="cs-input select-input">
              <mat-select name="against_influencer_type" #against_influencer_type="ngModel" [(ngModel)]="filter.against_influencer_type"
              (selectionChange)="purchase_detail('')">
              <mat-option value="All">All</mat-option>
              <mat-option value="Distributor" *ngIf="Influencer_Detail.influencer_type=='Plumber'">Distributor</mat-option>
              <mat-option value="Dealer" *ngIf="Influencer_Detail.influencer_type!='Retailer' &&  Influencer_Detail.influencer_type!='Dealer'">Dealer </mat-option>
              <mat-option value="Retailer" *ngIf="Influencer_Detail.influencer_type!='Retailer' && Influencer_Detail.influencer_type!='Distributor' ">Retailer</mat-option>
              <mat-option value="Plumber" *ngIf="Influencer_Detail.influencer_type!='Plumber'">Plumber</mat-option>


            </mat-select>
          </mat-form-field>
        </div>
      </th>

      <th class="w200">
        <div class="th-search-acmt" *ngIf="Tab_type== 'self_purchase' && Influencer_Detail.influencer_type!='Distributor'  && Influencer_Detail.influencer_type!='Plumber' && Influencer_Detail.influencer_type!='Retailer'">
          <mat-form-field>
            <input type="text" matInput placeholder="Search ..." name="against_influencer_company_name"
            (keyup.enter)="purchase_detail('')" #against_influencer_company_name="ngModel" [(ngModel)]="filter.against_influencer_company_name">
          </mat-form-field>
        </div>

        <div class="th-search-acmt" *ngIf=" Tab_type== 'self_purchase' && Influencer_Detail.influencer_type=='Retailer'">
          <mat-form-field>
            <input type="text" matInput placeholder="Search ..." name="against_influencer_company_name"
            (keyup.enter)="purchase_detail('')" #against_influencer_company_name="ngModel" [(ngModel)]="filter.against_influencer_company_name">
          </mat-form-field>
        </div>

        <div class="th-search-acmt" *ngIf="Tab_type!= 'self_purchase' || Influencer_Detail.influencer_type=='Distributor' || Influencer_Detail.influencer_type=='Plumber'">
          <mat-form-field>
            <input type="text" matInput placeholder="Search ..." name="influencer_company_name"
            (keyup.enter)="purchase_detail('')" #influencer_company_name="ngModel" [(ngModel)]="filter.influencer_company_name">
          </mat-form-field>
        </div>
      </th>



      <th class="w100">
        <div class="th-search-acmt">
          <mat-form-field class="cs-input date-column infix-bodr">
            <input matInput [matDatepicker]="picker1" placeholder="Date" name="bill_date"
            #bill_date="ngModel" [(ngModel)]="filter.bill_date" (ngModelChange)="purchaseDate_format()"
            [max]="today_date" readonly>
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>

      </th>




      <th class="w150">
        <div class="th-search-acmt">
          <mat-form-field>
            <input type="text" matInput placeholder="Search ..." name="bill_no"
            (keyup.enter)="purchase_detail('')" #bill_no="ngModel" [(ngModel)]="filter.bill_no">
          </mat-form-field>
        </div>
      </th>
      <th class="w100 text-center">
        <div class="th-search-acmt">
          <mat-form-field>
            <input type="text" matInput placeholder="Search ..." name="bill_amount" (keyup.enter)="purchase_detail('')"
            #bill_amount="ngModel" [(ngModel)]="filter.bill_amount">
          </mat-form-field>
        </div>
      </th>

      <th class="w80"></th>
      <!-- <th class="w100 text-center">
        <div class="th-search-acmt">
          <mat-form-field>
            <input type="text" matInput placeholder="Search ..." name="total_qty" (keyup.enter)="purchase_detail('')"
            #total_qty="ngModel" [(ngModel)]="filter.total_qty">
          </mat-form-field>
        </div>
      </th> -->
      <th class="w100">
        <div class="th-search-acmt">
          <mat-form-field>
            <input type="text" matInput placeholder="Search ..." name="points"
            (keyup.enter)="purchase_detail('')" #points="ngModel" [(ngModel)]="filter.points">
          </mat-form-field>
        </div>
      </th>
      <th class="w100 text-center">
        <div class="th-search-acmt">
          <mat-form-field class="cs-input select-input">
            <mat-select name="status" #status="ngModel" [(ngModel)]="filter.status"
            (selectionChange)="purchase_detail('')">
            <mat-option value="Pending">Pending</mat-option>
            <mat-option value="Approved">Approved </mat-option>
            <mat-option value="Reject">Reject </mat-option>

          </mat-select>
        </mat-form-field>
      </div>

    </th>

    <th class="w200"></th>
    <th class="w150">
      <div class="th-search-acmt">
        <mat-form-field>
          <input type="text" matInput placeholder="Search ..." name="status_updated_by_name"
          (keyup.enter)="purchase_detail('')" #status_updated_by_name="ngModel" [(ngModel)]="filter.status_updated_by_name">
        </mat-form-field>
      </div>
    </th>
  </tr>
</table>
</div>
</div>

<div class="table-container">
  <div class="table-content">
    <table>
      <ng-container *ngIf="!loader">
        <tr *ngFor="let row of purchaseDetail; let i = index;">
          <td class="w50">{{i + 1 + sr_no}}</td>
          <td class="w100">{{row.date_created | date :'dd MMM yyyy'}}</td>
          <td class="w100">{{row.pur_id ? row.pur_id : '---'}}</td>

          <td class="w100" *ngIf="((Tab_type!= 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Distributor' || Influencer_Detail.influencer_type=='Plumber' || Influencer_Detail.influencer_type=='Dealer')) ">{{row.influencer_type && row.influencer_type!=''? row.influencer_type:'--'}}</td>
          <td class="w100" *ngIf="(Tab_type== 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Plumber') ">{{row.against_influencer_type && row.against_influencer_type!=''? row.against_influencer_type:'--'}}</td>

          <td class="w200" *ngIf="Tab_type!= 'self_purchase' && row.influencer_company_name !=''"><a class="link-btn" routerLink="influencer-detail/{{row.distributor_id}}/{{Influencer_Detail.influencer_type}}">{{row.influencer_company_name |titlecase}}-{{row.influencer_mobile?row.influencer_mobile:'---'}}</a></td>
          <td class="w200" *ngIf="Tab_type!= 'self_purchase' && row.influencer_company_name ==''"><a class="link-btn" routerLink="influencer-detail/{{row.distributor_id}}/{{Influencer_Detail.influencer_type}}">{{row.influencer_name |titlecase}}-{{row.influencer_mobile?row.influencer_mobile:'---'}}</a></td>


          <td class="w200" *ngIf="Tab_type== 'self_purchase' && row.against_influencer_company_name !=''"><a class="link-btn" routerLink="influencer-detail/{{row.distributor_id}}/{{Influencer_Detail.against_influencer_type}}">{{row.against_influencer_company_name |titlecase}}-{{row.against_influencer_mobile?row.against_influencer_mobile:'---'}}</a></td>
          <td class="w200" *ngIf="Tab_type== 'self_purchase' && row.against_influencer_company_name ==''"><a class="link-btn" routerLink="influencer-detail/{{row.distributor_id}}/{{Influencer_Detail.against_influencer_type}}">{{row.against_influencer_name |titlecase}}-{{row.against_influencer_mobile?row.against_influencer_mobile:'---'}}</a></td>




          <td class="w100">{{row.bill_date ? row.bill_date : '---'}}</td>
          <td class="w150">{{row.bill_no ? row.bill_no : '---'}}</td>
          <td class="w100 text-center"><strong>{{row.bill_amount ? row.bill_amount : '---'}}</strong></td>

          <td class="w80 text-center "><a class="link-btn" mat-button (click)="showItems(row)">{{row.image.length}}</a></td>
          <!-- <td class="w100 text-center"><strong>{{row.total_qty ? row.total_qty : '---'}}</strong></td> -->
          <td class="w100 text-center"><strong>{{row.points ? row.points : '0'}}</strong></td>
          <td class="w100"><strong class="{{row.status}}">{{row.status}}</strong> </td>
          <td class="w200">{{row.status_reason? row.status_reason:'---'}}</td>

          <td class="w150">{{row.status_updated_by_name |titlecase}}-{{row.status_updated_by_mobile ? row.status_updated_by_mobile :'---'}}</td>
        </tr>
      </ng-container>

      <ng-container *ngIf="loader">
        <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
          <td class="w50">
            <div>&nbsp;</div>
          </td>
          <td class="w100">
            <div>&nbsp;</div>
          </td>
          <td class="w100">
            <div>&nbsp;</div>
          </td>
          <td class="w100" *ngIf="((Tab_type!= 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Distributor' || Influencer_Detail.influencer_type=='Plumber' || Influencer_Detail.influencer_type=='Dealer')) || (Tab_type== 'self_purchase' ) && ( Influencer_Detail.influencer_type=='Plumber')">
            <div>&nbsp;</div>
          </td>
          <td class="w200" >
            <div>&nbsp;</div>
          </td>
          <td class="w200" >
            <div>&nbsp;</div>
          </td>
          <td class="w100">
            <div>&nbsp;</div>
          </td>
          <td class="w150">
            <div>&nbsp;</div>
          </td>
          <td class="w100">
            <div>&nbsp;</div>
          </td>
          <td class="w80">
            <div>&nbsp;</div>
          </td>
          <!-- <td class="w100">
            <div>&nbsp;</div>
          </td> -->
          <td class="w100">
            <div>&nbsp;</div>
          </td>
          <td class="w100">
            <div>&nbsp;</div>
          </td>
          <td class="w200">
            <div>&nbsp;</div>
          </td>
          <td class="w150">
            <div>&nbsp;</div>
          </td>
        </tr>
      </ng-container>
      <ng-container *ngIf="purchaseDetail.length == 0">
        <app-not-result-found></app-not-result-found>
      </ng-container>
    </table>
  </div>
</div>
</div>



<!-- <div class="tools-container no-sticky">
  <div class="mat-tabbar">
    <button mat-button [ngClass]="{'active' :wallet_history_type== 'ledger'}"
    (click)="clearFilter(); getLedger(); wallet_history_type= 'ledger'">
    <i class="material-icons">receipt_long</i>
    Ledger
  </button>

  <button mat-button [ngClass]="{'active' :wallet_history_type== 'redeem_history'}"
  (click)="clearFilter(); redeem_history_data(); wallet_history_type = 'redeem_history'">
  <i class="material-icons">redeem</i>
  Redeem History
</button>
<button mat-button [ngClass]="{'active' :wallet_history_type== 'earn_history'}"
(click)="clearFilter(); redeem_history_data(); wallet_history_type = 'earn_history'">
<i class="material-icons">redeem</i>
Earn Point Request
</button>
<button mat-button [ngClass]="{'active' :wallet_history_type== 'redeem_request'}"
(click)="clearFilter(); redeem_history_data(); wallet_history_type = 'redeem_request'">
<i class="material-icons">redeem</i>
Redeem Request
</button>
</div>




</div> -->
<!-- <div class="cs-table" *ngIf="wallet_history_type== 'ledger'">
  <div class="sticky-head" style="top: -10px;">
    <div class="table-head">
      <table>
        <tr>
          <th class="w60">S.no.</th>
          <th class="w150">Date</th>
          <th class="w150">Transaction Type</th>
          <th class="text-right">Credit</th>
          <th class="text-right">Debit</th>
          <th class="w160 text-right">Balance</th>
        </tr>
      </table>
    </div>
    <div class="table-head border-top">
      <table class="sno-border">
        <tr>
          <th class="w60">&nbsp;</th>
          <th class="w150">
            <div class="th-search-acmt">
              <mat-form-field class="cs-input date-column infix-bodr">
                <input matInput [matDatepicker]="picker1" placeholder="Date" name="date"
                [(ngModel)]="filter.date_created" (dateChange)="date_format(tabType)" disabled>
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1 disabled="false"></mat-datepicker>
              </mat-form-field>
            </div>
          </th>
          <th class="w150 text-right">
            <div class="th-search-acmt">
              <mat-form-field>
                <input type="text" matInput placeholder="Search ..." name="transaction_type"
                (keyup.enter)="getLedger()" #transaction_type="ngModel" [(ngModel)]="filter.transaction_type">
                <mat-autocomplete #search="matAutocomplete">
                  <mat-option>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </div>
          </th>
          <th class="text-right">&nbsp;</th>
          <th class="text-right">&nbsp;</th>
          <th class="w160">&nbsp;</th>
        </tr>
      </table>
    </div>
  </div>
  <div class="table-container">
    <div class="table-content">
      <table>
        <ng-container *ngIf="!loader">
          <tr *ngFor="let row of ledgerData; let i =index">
            <td class="w60">{{i+1+sr_no}}</td>
            <td class="w150">{{row.date_created | date : 'dd MMM yyy ,h:mm a'}}</td>
            <td class="w150">{{row.transaction_type}}</td>
            <td class="text-right">
              <strong class="green-clr" *ngIf="row.credit > 0">+ {{row.credit}} pt</strong>
              <ng-container *ngIf="row.credit == 0">---</ng-container>
              <br>
              <ng-container *ngIf="row.credit > 0">{{row.transaction_remark}}</ng-container>
            </td>
            <td class="text-right">
              <strong class="red-clr" *ngIf="row.debit > 0">- {{row.debit}} pt</strong>
              <ng-container *ngIf="row.debit == 0">---</ng-container>
              <br>
              <ng-container *ngIf="row.debit > 0">{{row.transaction_remark}}</ng-container>
            </td>
            <td class="w160 text-right">
              <strong>{{row.balance}} pt</strong>
            </td>
          </tr>
        </ng-container>

        <ng-container *ngIf="loader">
          <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
            <td class="w60">
              <div>&nbsp;</div>
            </td>
            <td class="w150">
              <div>&nbsp;</div>
            </td>
            <td class="w150">
              <div>&nbsp;</div>
            </td>
            <td>
              <div>&nbsp;</div>
            </td>
            <td class="w160">
              <div>&nbsp;</div>
            </td>
          </tr>
        </ng-container>
      </table>
    </div>
  </div>
  <ng-container *ngIf="ledgerData.length == 0">
    <app-not-result-found></app-not-result-found>
  </ng-container>
</div>


<div class="cs-table  horizontal-scroll" *ngIf="wallet_history_type== 'scan_history'">
  <div class="sticky-head" style="top: -10px;">
    <div class="table-head">
      <table>
        <tr>
          <th class="w60">Sr.No</th>
          <th class="w140">Coupon Code</th>
          <th class="w250">Product Detail</th>
          <th class="w100">Dispatch Date</th>
          <th class="w100">Dispatch Type</th>
          <th class="w250">Dealer Detail</th>
          <th class="w130">Invoice No.</th>
          <th class="w110 text-right">Coupon value</th>
          <th class="w100">Scan Date</th>
          <th class="w180">Bonus Name</th>
          <th class="w110 text-right">Bonus Point</th>

        </tr>
      </table>
    </div>
  </div>

  <div class="table-container">
    <div class="table-content">
      <table>
        <ng-container *ngIf="!loader">
          <tr *ngFor="let row of couponData let i = index;">
            <td class="w60">{{i+1+sr_no}}</td>
            <td class="w140">{{row.coupon_code?row.coupon_code:'---'}}</td>
            <td class="w250">{{row.product_detail?row.product_detail:'---'}}</td>
            <td class="w100">
              {{row.dispatch_date != "0000-00-00 00:00:00" ? (row.dispatch_date | date:'d MMM y') : '---'}}
            </td>
            <td class="w100">{{row.dispatch_type}}</td>
            <td class="w250">{{row.dr_detail}}</td>
            <td class="w130">{{row.invoice_number}}</td>
            <td class="w110 text-right">
              <strong>{{row.total_point?row.total_point + ' PT':'---'}}</strong>
            </td>
            <td class="w100">{{row.scanned_date | date:'d MMM y, h:mm a'}}</td>
            <td class="w180">{{row.bonus_scheme_name}}</td>
            <td class="w110 text-right"><strong>{{row.bonus_point?row.bonus_point + ' PT':'---'}}</strong></td>

          </tr>
        </ng-container>

        <ng-container *ngIf="loader">
          <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
            <td class="w60">
              <div>&nbsp;</div>
            </td>
            <td class="w140">
              <div>&nbsp;</div>
            </td>
            <td class="w250">
              <div>&nbsp;</div>
            </td>
            <td class="w100">
              <div>&nbsp;</div>
            </td>
            <td class="w100">
              <div>&nbsp;</div>
            </td>
            <td class="w250">
              <div>&nbsp;</div>
            </td>
            <td class="w130">
              <div>&nbsp;</div>
            </td>
            <td class="w110 text-right">
              <div>&nbsp;</div>
            </td>
            <td class="w100">
              <div>&nbsp;</div>
            </td>
            <td class="w180">
              <div>&nbsp;</div>
            </td>
            <td class="w110 text-right">
              <div>&nbsp;</div>
            </td>

          </tr>
        </ng-container>
        <ng-container *ngIf="couponData.length == 0">
          <app-not-result-found></app-not-result-found>
        </ng-container>
      </table>
    </div>
  </div>
</div>


<div class="cs-table horizontal-scroll" *ngIf="wallet_history_type== 'redeem_history'">
  <div class="sticky-head">
    <div class="table-head">
      <table>
        <tr>
          <th class="w60">Sr.No</th>
          <th class="w90">Date</th>
          <th class="w110">Req. ID</th>
          <th class="w200">Gift</th>
          <th class="w100 text-right">Points Request</th>
          <th class="w100 text-right">Equivalent Cash</th>
          <th class="w110">Redeem Status</th>
          <th class="w110">Gift Points Status</th>
        </tr>
      </table>
    </div>
  </div>

  <div class="table-container">
    <div class="table-content">
      <table>
        <ng-container *ngIf="!loader">
          <tr *ngFor="let row of redeemHistory; let i = index;">
            <td class="w60">{{i + 1 + sr_no}}</td>
            <td class="w90">{{row.date_created | date :'dd MMM yyyy'}}</td>
            <td class="w110"><a class="link-btn" [routerLink]="[ 'redeem-detail/', row.id ]"
              [queryParams]="{'id':row.id}">{{row.req_id ? row.req_id : '---'}}</a></td>
              <td class="w200">{{row.gift_name ? row.gift_name : '---'}}</td>
              <td class="w100 text-right"><strong>{{row.point ? row.point : '---'}}</strong></td>
              <td class="w100 text-right"><strong>{{row.cash_point ? row.cash_point : '---'}}</strong></td>
              <td class="w110"><strong class="{{row.status}}">{{row.status}}</strong> </td>
              <td class="w110"><strong class="{{row.gift_status}}">{{row.gift_status ? row.gift_status :
                '---'}}</strong></td>
              </tr>
            </ng-container>

            <ng-container *ngIf="loader">
              <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
                <td class="w60">
                  <div>&nbsp;</div>
                </td>
                <td class="w90">
                  <div>&nbsp;</div>
                </td>
                <td class="w110">
                  <div>&nbsp;</div>
                </td>
                <td class="w200">
                  <div>&nbsp;</div>
                </td>
                <td class="w100">
                  <div>&nbsp;</div>
                </td>
                <td class="w100">
                  <div>&nbsp;</div>
                </td>
                <td class="w110">
                  <div>&nbsp;</div>
                </td>
                <td class="w110">
                  <div>&nbsp;</div>
                </td>
              </tr>
            </ng-container>
            <ng-container *ngIf="redeemHistory.length == 0">
              <app-not-result-found></app-not-result-found>
            </ng-container>
          </table>
        </div>
      </div>
    </div> -->




    <!-- <div class="cs-table horizontal-scroll" *ngIf="wallet_history_type== 'redeem_request'">
      <div class="sticky-head">
        <div class="table-head">
          <table>
            <tr>
              <th class="w60">&nbsp;</th>
              <th class="w100">Date</th>
              <th class="w100">Req. ID</th>
              <th class="w100">Mobile No.</th>
              <th class="w200">Gift</th>
              <th class="w100">Points</th>
              <th class="w200">Offer</th>
              <th class="w100">Redeem Status</th>
              <th class="w100">Gift Status</th>
              <th class="w100">Action</th>
              <th class="w100">Reedem detail</th>
            </tr>
          </table>
        </div>
      </div>

      <div class="table-container">
        <div class="table-content">
          <table>
            <ng-container *ngIf="!loader">
              <tr *ngFor="let row of redeemHistory; let i = index;">
                <td class="w60">{{i + 1 + sr_no}}</td>
                <td class="w100">{{row.date_created | date :'dd MMM yyyy'}}</td>
                <td class="w100"><a class="link-btn" [routerLink]="[ 'redeem-detail/', row.id ]"
                  [queryParams]="{'id':row.id}">{{row.req_id ? row.req_id : '---'}}</a></td>
                  <td class="w100">{{row.retailer_mobile ? row.retailer_mobile : '---'}}</td>

                  <td class="w200">{{row.gift_name ? row.gift_name : '---'}}</td>
                  <td class="w100 text-right"><strong>{{row.points ? row.points : '---'}}</strong></td>
                  <td class="w100 text-right"><strong>{{row.cash_point ? row.cash_point : '---'}}</strong></td>
                  <td class="w100"><strong class="{{row.status}}">{{row.status}}</strong> </td>
                  <td class="w100"><strong class="{{row.gift_status}}">{{row.gift_status ? row.gift_status :
                    '---'}}</strong></td>
                  </tr>
                </ng-container>

                <ng-container *ngIf="loader">
                  <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
                    <td class="w60">
                      <div>&nbsp;</div>
                    </td>
                    <td class="w100">
                      <div>&nbsp;</div>
                    </td>
                    <td class="w100">
                      <div>&nbsp;</div>
                    </td>
                    <td class="w200">
                      <div>&nbsp;</div>
                    </td>
                    <td class="w100">
                      <div>&nbsp;</div>
                    </td>
                    <td class="w100">
                      <div>&nbsp;</div>
                    </td>
                    <td class="w100">
                      <div>&nbsp;</div>
                    </td>
                    <td class="w100">
                      <div>&nbsp;</div>
                    </td>
                  </tr>
                </ng-container>
                <ng-container *ngIf="redeemHistory.length == 0">
                  <app-not-result-found></app-not-result-found>
                </ng-container>
              </table>
            </div>
          </div>
        </div> -->
      </div>

      <!-- ////End purchase/// -->
      <div class="row" *ngIf="tabType== 'Profile'">
        <div class="col s12 m12 l12">
          <div class="card" *ngIf="!skLoading">
            <div class="card-head">
              <h2>Basic Details</h2>
              <div class="left-auto">
                <a class="sm-mat-icon-button" mat-icon-button matTooltip="Edit Detail"
                [routerLink]="[ 'add-influencer/' ]"
                [queryParams]="{'type':Influencer_Detail.type, 'network':Influencer_Detail.influencer_type, 'id':Influencer_Detail.id}"
                *ngIf="login_data5.edit_influencer=='1'">
                <i class="material-icons">edit</i>
              </a>
            </div>
          </div>
          <div class="card-body">
            <div class="grid-box">
              <div class="block-feilds" *ngIf="Influencer_Detail.type!='1'">
                <span>Company Name</span>
                <p>{{Influencer_Detail.company_name}}</p>
              </div>
              <div class="block-feilds">
                <span>Name</span>
                <p>{{Influencer_Detail.name | titlecase}}</p>
              </div>
              <div class="block-feilds">
                <span>Mobile No.</span>
                <p>{{Influencer_Detail.mobile_no}}</p>
              </div>


              <div class="block-feilds" *ngIf="Influencer_Detail.type!='1'">
                <span>GST NO.</span>
                <p>{{Influencer_Detail.gst_number}}</p>
              </div>

              <div class="block-feilds" *ngIf="Influencer_Detail.type!='1'">
                <span>Email ID</span>
                <p>{{Influencer_Detail.email}}</p>
              </div>

              <div class="block-feilds">
                <span>DOB</span>
                <p *ngIf="Influencer_Detail.dob !='0000-00-00'">{{Influencer_Detail.dob | date:'MMM d, y'}}</p>
                <p  *ngIf="Influencer_Detail.dob =='0000-00-00'">N/A</p>

              </div>
              <div class="block-feilds">
                <span>DOA</span>
                <p *ngIf="Influencer_Detail.doa !='0000-00-00'">{{Influencer_Detail.doa| date:'MMM d, y'}}</p>
                <p *ngIf="Influencer_Detail.doa =='0000-00-00'">N/A</p>

              </div>





              <div class="block-feilds"
              *ngIf="checkRight.scanning_rights != 'Yes' || checkRight.point_transfer_right != 'Yes' ">
              <span>Address</span>
              <p>{{Influencer_Detail.city}} {{Influencer_Detail.district}} {{Influencer_Detail.state}}
                {{Influencer_Detail.country}} {{Influencer_Detail.pincode}}</p>
              </div>

              <ng-container *ngIf="checkRight.scanning_rights == 'Yes' || checkRight.point_transfer_right == 'Yes' ">
                <div class="block-feilds">
                  <span>Referral Code</span>
                  <p>{{Influencer_Detail.referral_code ? Influencer_Detail.referral_code : '---'}}</p>
                </div>

                <div class="block-feilds" *ngIf="Influencer_Detail.referred_by_code!= ''">
                  <span>Referral By</span>
                  <p>{{Influencer_Detail.referred_by ? Influencer_Detail.referred_by : '---'}}
                    {{Influencer_Detail.referred_by_code ? Influencer_Detail.referred_by_code : '---'}}</p>
                  </div>
                </ng-container>


                <div class="block-feilds flex-heading"  *ngIf="Influencer_Detail.type!='3'">
                  <div>
                    <span>Status</span>
                    <p>{{Influencer_Detail.status ? Influencer_Detail.status : '---'}}</p>
                  </div>
                  <div class="left-auto">
                    <a class="sm-mat-icon-button" mat-icon-button matTooltip="Change Status"
                    (click)="changeStatusDialog(Influencer_Detail.id,Influencer_Detail.status,'influencer_list',Influencer_Detail.referred_by,Influencer_Detail.name,Influencer_Detail.influencer_type, Influencer_Detail.scanning_rights, Influencer_Detail.welcome_bonus_flag,Influencer_Detail.distributor_assign,Influencer_Detail.dealer_assign,Influencer_Detail.status)"
                    *ngIf="Influencer_Detail.status!='Approved'">
                    <i class="material-icons">edit</i>
                  </a>
                </div>
              </div>

            </div>



            <ng-container *ngIf="Influencer_Detail.type!='3'">
              <div class="card-head mt15">
                <h2>Document Details</h2>
              </div>
              <div class="card-body">
                <div class="grid-box">
                  <div class="block-feilds">
                    <div class="doc-img">
                      <img src="assets/img/no_image.png" *ngIf="Influencer_Detail.pan_img == ''">
                      <img *ngIf="Influencer_Detail.pan_img" src="{{url+Influencer_Detail.pan_img}}"
                      (click)="goToImage(url+Influencer_Detail.pan_img)" style="cursor: zoom-in;">
                    </div>
                  </div>
                  <div class="block-feilds">
                    <span>Pan Number</span>
                    <p>{{Influencer_Detail.pan_no ?Influencer_Detail.pan_no :'---'}}</p>
                  </div>
                  <div class="block-feilds">
                    <div class="doc-img">
                      <img src="assets/img/no_image.png" *ngIf="Influencer_Detail.document_image == ''">
                      <img *ngIf="Influencer_Detail.document_image" src="{{url+Influencer_Detail.document_image}}"
                      (click)="goToImage(url+Influencer_Detail.document_image)" style="cursor: zoom-in;">
                      <img src="assets/img/no_image.png" *ngIf="Influencer_Detail.document_image_back == ''">
                      <img *ngIf="Influencer_Detail.document_image_back"
                      src="{{url+Influencer_Detail.document_image_back}}"
                      (click)="goToImage(url+Influencer_Detail.document_image_back)" style="cursor: zoom-in;">
                    </div>
                  </div>
                  <div class="block-feilds">
                    <span>Document Number</span>
                    <p>{{Influencer_Detail.adhar_no ? Influencer_Detail.adhar_no : '---'}}</p>
                  </div>
                </div>
              </div>
              <div class="card-head mt15" *ngIf="Influencer_Detail.type!='3'">
                <h2>Bank Details</h2>
              </div>
              <div class="card-body" *ngIf="Influencer_Detail.type!='3'">
                <div class="grid-box">
                  <div class="block-feilds">
                    <span>Bank Name</span>
                    <p>{{Influencer_Detail.bank_name ? Influencer_Detail.bank_name :'---'}}</p>
                  </div>

                  <div class="block-feilds">
                    <span>Account Number</span>
                    <p>{{Influencer_Detail.account_no ? Influencer_Detail.account_no:'---'}}</p>
                  </div>

                  <div class="block-feilds">
                    <span>IFSC Code</span>
                    <p>{{Influencer_Detail.ifsc_code ? Influencer_Detail.ifsc_code :'---'}}</p>
                  </div>
                  <div class="block-feilds">
                    <div class="doc-img">
                      <img src="assets/img/no_image.png" *ngIf="!Influencer_Detail.bank_img">
                      <img *ngIf="Influencer_Detail.bank_img" src="{{url+Influencer_Detail.bank_img}}"
                      (click)="goToImage(url+Influencer_Detail.bank_img)" style="cursor: zoom-in;">
                    </div>
                  </div>
                  <div class="block-feilds">
                    <span>Account Holder Name</span>
                    <p>{{Influencer_Detail.account_holder_name ? Influencer_Detail.account_holder_name :'---'}}</p>
                  </div>

                </div>
              </div>
            </ng-container>


            <ng-container *ngIf="Influencer_Detail.type!='3'">
              <div class="card-head mt15">
                <h2 class="flex-heading">KYC Details
                  <i class="material-icons"
                  [ngClass]="Influencer_Detail.kyc_status == 'Verified' ? 'Approve' : Influencer_Detail.kyc_status == 'Reject' ? 'Reject' : 'Pending'">
                  {{Influencer_Detail.kyc_status == 'Verified' ? 'verified' : Influencer_Detail.kyc_status == 'Reject' ?
                  'cancel' : 'update'}}
                </i>
              </h2>
              <div class="left-auto"
              *ngIf="Influencer_Detail.kyc_status != 'Verified' && login_data5.edit_influencer=='1'">
              <button matTooltip="Update KYC Status" (click)="update(Influencer_Detail.id)" mat-raised-button
              color="primary">Update KYC Status</button>
            </div>
          </div>
          <div class="card-body">
            <div class="grid-box">
              <div class="block-feilds">
                <span>KYC Status</span>
                <p>{{Influencer_Detail.kyc_status}}</p>
              </div>

              <div class="block-feilds" *ngIf="Influencer_Detail.kyc_status != 'Pending'">
                <span>Last {{Influencer_Detail.kyc_status}} By</span>
                <p>{{Influencer_Detail.kyc_verified_by_name ? Influencer_Detail.kyc_verified_by_name :'---'}}</p>
              </div>

              <div class="block-feilds" *ngIf="Influencer_Detail.kyc_status != 'Pending'">
                <span>Last {{Influencer_Detail.kyc_status}} On</span>
                <p>{{Influencer_Detail.kyc_verified_date != '0000-00-00 00:00:00' ?
                  (Influencer_Detail.kyc_verified_date | date : 'h:mm a') : '--'}}</p>
                </div>

                <div class="block-feilds" *ngIf="Influencer_Detail.kyc_remark">
                  <span>Reason</span>
                  <p>{{Influencer_Detail.kyc_remark}}</p>
                </div>
              </div>
            </div>
          </ng-container>
        </div>



      </div>

      <div class="card" *ngIf="skLoading">
        <div class="sk-head">
          <h2>&nbsp;</h2>
        </div>
        <div class="card-body">
          <div class="grid-box">
            <div class="sk-box" *ngFor="let row of [].constructor(10)">
              &nbsp;
            </div>
          </div>
        </div>
      </div>


      <ng-container >
        <div class="row mt10" *ngIf="!skLoading">
          <!-- <div class="col s12 m4 l4" *ngIf="Influencer_Detail.user_assign_detail.length && Influencer_Detail.type=='3'">
            <div class="card pb0">
              <div class="card-head">
                <h2>Assign Sales User</h2>
              </div>
              <div class="card-body pt0">
                <mat-list class="cs-list-box pt0">
                  <mat-list-item *ngFor="let row of Influencer_Detail.user_assign_detail;">
                    <div class="alphabet">{{row.name ? row.name[0].toUpperCase():'' }}</div>
                    {{row.name | titlecase}} <strong *ngIf="row.emp_code">&nbsp; &nbsp;
                      ({{row.emp_code}})</strong>
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </div> -->

            <div class="col s12 m4 l4" *ngIf="Influencer_Detail.distributor_assign_detail.length && Influencer_Detail.type=='4'">
              <div class="card pb0">
                <div class="card-head">
                  <h2>Assign Distributor</h2>
                </div>
                <div class="card-body pt0">
                  <mat-list class="cs-list-box pt0">
                    <mat-list-item *ngFor="let row of Influencer_Detail.distributor_assign_detail;">
                      <div class="alphabet">{{row.company_name ? row.company_name[0].toUpperCase():'' }}</div>
                      {{row.company_name | titlecase}}-{{row.mobile_no}}
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </div>

            <div class="col s12 m4 l4" *ngIf="Influencer_Detail.dealer_assign_detail.length && Influencer_Detail.type=='2'">
              <div class="card pb0">
                <div class="card-head">
                  <h2>Assign Dealer</h2>
                </div>
                <div class="card-body pt0">
                  <mat-list class="cs-list-box pt0">
                    <mat-list-item *ngFor="let row of Influencer_Detail.dealer_assign_detail;">
                      <div class="alphabet">{{row.company_name ? row.company_name[0].toUpperCase():'' }}</div>
                      {{row.company_name | titlecase}}-{{row.mobile_no}}
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </div>

            <div class="col s12 m4 l4" *ngIf="Influencer_Detail.self_dealer.length && Influencer_Detail.type=='3'">
              <div class="card pb0">
                <div class="card-head">
                  <h2> Dealer</h2>
                </div>
                <div class="card-body pt0">
                  <mat-list class="cs-list-box pt0">
                    <mat-list-item *ngFor="let row of Influencer_Detail.self_dealer;">
                      <div class="alphabet">{{row.company_name ? row.company_name[0].toUpperCase():'' }}</div>
                      {{row.company_name | titlecase}}-{{row.mobile_no}}
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </div>

            <div class="col s12 m4 l4" *ngIf="Influencer_Detail.self_retailer.length && Influencer_Detail.type=='4'">
              <div class="card pb0">
                <div class="card-head">
                  <h2> Retailer</h2>
                </div>
                <div class="card-body pt0">
                  <mat-list class="cs-list-box pt0">
                    <mat-list-item *ngFor="let row of Influencer_Detail.self_retailer;">
                      <div class="alphabet">{{row.company_name ? row.company_name[0].toUpperCase():'' }}</div>
                      {{row.company_name | titlecase}}-{{row.mobile_no}}
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </div>
          </div>
        </ng-container>

      </div>

      <!-- <div class="col s12 m4 l4"
        *ngIf="checkRight.scanning_rights == 'Yes' || checkRight.point_transfer_right == 'Yes' ">
        <div class="card pb0" *ngIf="!skLoading">
          <div class="card-head">
            <h2>Wallet History</h2>
          </div>
          <div class="card-body pt0">
            <canvas width="250px" height="250px" #pieCanvas></canvas>
          </div>


          <mat-list class="cs-list-box pt0">
            <mat-list-item>Scan Points <div class="left-auto"><strong>{{wallet_Detail.scan_sum}} PT</strong></div>
            </mat-list-item>
            <mat-list-item>Referral Incentive Points<div class="left-auto"><strong>{{wallet_Detail.referral_sum}}
              PT</strong></div></mat-list-item>
              <mat-list-item>Total Earn Points <div class="left-auto"><strong>{{wallet_Detail.total}} PT</strong></div>
              </mat-list-item>
              <mat-list-item>Redeem Point <div class="left-auto"><strong class="red-clr">{{wallet_Detail.redeem_sum}}
                PT</strong></div></mat-list-item>
                <mat-list-item>Current Wallet Points <div class="left-auto"><strong
                  class="green-clr">{{wallet_Detail.balance}} PT</strong></div></mat-list-item>
                </mat-list>
              </div>

              <div class="card" *ngIf="skLoading">
                <div class="sk-head">
                  <h2>&nbsp;</h2>
                </div>
                <div class="card-body">
                  <div class="grid-box single mt10" *ngFor="let row of [].constructor(5)">
                    <div class="sk-box">
                      &nbsp;
                    </div>
                  </div>
                </div>
              </div>

            </div> -->

          </div>

          <div *ngIf="tabType== 'Checkin'" style="margin: -10px -10px 0px -10px;">

            <div class="cs-table">
              <div class="sticky-head" style="top: -10px;">
                <div class="table-head">
                  <table>
                    <tr>
                      <th class="w50">S.No</th>
                      <th class="w90">Date Created</th>
                      <th class="w100">Employee Code</th>
                      <th class="w150">Employee Name </th>
                      <th class="w150">Reporting Manager </th>
                      <th class="w100">Check in</th>
                      <th class="w100">Check out</th>
                      <th class="w100">Total Time Spend</th>
                      <th>Remark</th>
                    </tr>
                  </table>
                </div>

              </div>

              <div class="table-container">

                <div class="table-content">
                  <table>
                    <ng-container *ngIf="!checkinLoader">
                      <tr *ngFor="let row of checkinData; let i=index">
                        <td class="w50">{{i + 1 + sr_no}}</td>
                        <td class="w90">{{row.activity_date | date:'dd MMM yyyy'}}</td>
                        <td class="w100">{{row.employee_id}}</td>
                        <td class="w150">{{row.exec_name}}</td>
                        <td class="w150">{{row.reporting_manager_name}}</td>
                        <td class="w100">{{row.visit_start != "0000-00-00 00:00:00" ? (row.visit_start|date:'dd MMM yyyy'):'N/A' }}</td>
                        <td class="w100">{{row.visit_end != "0000-00-00 00:00:00" ? (row.visit_end|date:'dd MMM yyyy'):'N/A'
                        }}</td>
                        <td class="w100">{{row.total_time_spend ? row.total_time_spend : 'N/A'}}</td>
                        <td>{{row.description ? row.description : 'N/A'}}</td>
                      </tr>
                    </ng-container>
                    <ng-container *ngIf="checkinLoader">
                      <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
                        <td class="w50">
                          <div>&nbsp;</div>
                        </td>
                        <td class="w90">
                          <div>&nbsp;</div>
                        </td>
                        <td class="w100">
                          <div>&nbsp;</div>
                        </td>
                        <td class="w150">
                          <div>&nbsp;</div>
                        </td>
                        <td class="w150">
                          <div>&nbsp;</div>
                        </td>
                        <td class="w100">
                          <div>&nbsp;</div>
                        </td>
                        <td class="w100">
                          <div>&nbsp;</div>
                        </td>
                        <td class="w100">
                          <div>&nbsp;</div>
                        </td>
                        <td>
                          <div>&nbsp;</div>
                        </td>
                      </tr>
                    </ng-container>

                    <ng-container *ngIf="checkinData.length == 0">
                      <app-not-result-found></app-not-result-found>
                    </ng-container>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="tabType== 'transaction'" style="margin: -10px -10px 0px -10px;">
            <div class="tools-container no-sticky">
              <div class="mat-tabbar">
                <button mat-button [ngClass]="{'active' :wallet_history_type== 'ledger'}"
                (click)="clearFilter(); getLedger(); wallet_history_type= 'ledger'" *ngIf="Influencer_Detail.type!='3'">
                <i class="material-icons">receipt_long</i>
                Ledger
              </button>
              <!-- <button mat-button [ngClass]="{'active' :wallet_history_type== 'transfer point'}"
                (click)="clearFilter(); gettransferpoint(); wallet_history_type='transfer point'" *ngIf="Influencer_Detail.type=='2' || Influencer_Detail.type=='4'">
                <i class="material-icons">wallet</i>
                Transfer Wallet Point
              </button> -->
              <!-- <button mat-button [ngClass]="{'active' :wallet_history_type== 'scan_history'}"
                (click)="clearFilter(); scan_history_data(); wallet_history_type= 'scan_history'"
                *ngIf="checkRight.scanning_rights == 'Yes'">
                <i class="material-icons">qr_code_scanner</i>
                Scan History
              </button> -->
              <button mat-button [ngClass]="{'active' :wallet_history_type== 'redeem_history'}"
              (click)="clearFilter(); redeem_history_data(); wallet_history_type = 'redeem_history'"  *ngIf="Influencer_Detail.type=='1'">
              <i class="material-icons">redeem</i>
              Redeem History
            </button>
          </div>



          <div class="left-auto df flex-gap-10">
            <a mat-icon-button matTooltip="Refresh" (click)="refresh()">
              <i class="material-icons">refresh</i>
            </a>

            <div class="pagination"
            *ngIf="(ledgerData.length > 0 && wallet_history_type== 'ledger') || (redeemHistory.length > 0 && wallet_history_type== 'redeem_history') || (transferPointData.length > 0 && wallet_history_type== 'transfer point')">
            <div class="pagination-content">
              Pages
              <span>{{pagenumber}}</span>
              of
              <span>{{total_page}}</span>
            </div>
            <div class="page-nav">
              <button mat-icon-button matTooltip="Older" (click)="pervious(tabType)"
              [disabled]="start == 0 || total_page == 0">
              <i class="material-icons">navigate_before</i>
            </button>
            <button mat-icon-button matTooltip="Newer" (click)="nextPage(tabType)"
            [disabled]="pagenumber == total_page || total_page == 0 ">
            <i class="material-icons">navigate_next</i>
          </button>
        </div>
      </div>
    </div>

  </div>
  <div class="cs-table" *ngIf="wallet_history_type== 'ledger'">
    <div class="sticky-head" style="top: -10px;">
      <div class="table-head">
        <table>
          <tr>
            <th class="w60">S.no.</th>
            <th class="w150">Date</th>
            <th class="w150">Transaction Type</th>
            <th class="text-right">Credit</th>
            <th class="text-right">Debit</th>
            <th class="w160 text-right">Balance</th>
          </tr>
        </table>
      </div>
      <div class="table-head border-top">
        <table class="sno-border">
          <tr>
            <th class="w60">&nbsp;</th>
            <th class="w150">
              <div class="th-search-acmt">
                <mat-form-field class="cs-input date-column infix-bodr">
                  <input matInput [matDatepicker]="picker1" placeholder="Date" name="date"
                  [(ngModel)]="filter.date_created" (dateChange)="date_format(tabType)" disabled>
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1 disabled="false"></mat-datepicker>
                </mat-form-field>
              </div>
            </th>
            <th class="w150 text-right">
              <div class="th-search-acmt">
                <mat-form-field>
                  <input type="text" matInput placeholder="Search ..." name="transaction_type"
                  (keyup.enter)="getLedger()" #transaction_type="ngModel" [(ngModel)]="filter.transaction_type">
                  <mat-autocomplete #search="matAutocomplete">
                    <mat-option>
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
              </div>
            </th>
            <th class="text-right">&nbsp;</th>
            <th class="text-right">&nbsp;</th>
            <th class="w160">&nbsp;</th>
          </tr>
        </table>
      </div>
    </div>
    <div class="table-container">
      <div class="table-content">
        <table>
          <ng-container *ngIf="!loader">
            <tr *ngFor="let row of ledgerData; let i =index">
              <td class="w60">{{i+1+sr_no}}</td>
              <td class="w150">{{row.date_created | date : 'dd MMM yyy ,h:mm a'}}</td>
              <td class="w150">{{row.transaction_type}}</td>
              <td class="text-right">
                <strong class="green-clr" *ngIf="row.credit > 0">+ {{row.credit}} PT</strong>
                <ng-container *ngIf="row.credit == 0">---</ng-container>
                <br>
                <ng-container *ngIf="row.credit > 0">{{row.transaction_remark}}</ng-container>
              </td>
              <td class="text-right">
                <strong class="red-clr" *ngIf="row.debit > 0">- {{row.debit}} PT</strong>
                <ng-container *ngIf="row.debit == 0">---</ng-container>
                <br>
                <ng-container *ngIf="row.debit > 0">{{row.transaction_remark}}</ng-container>
              </td>
              <td class="w160 text-right">
                <strong>{{row.balance}} PT</strong>
              </td>
            </tr>
          </ng-container>

          <ng-container *ngIf="loader">
            <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
              <td class="w60">
                <div>&nbsp;</div>
              </td>
              <td class="w150">
                <div>&nbsp;</div>
              </td>
              <td class="w150">
                <div>&nbsp;</div>
              </td>
              <td>
                <div>&nbsp;</div>
              </td>
              <td>
                <div>&nbsp;</div>
              </td>
              <td class="w160">
                <div>&nbsp;</div>
              </td>
            </tr>
          </ng-container>
        </table>
      </div>
    </div>
    <ng-container *ngIf="ledgerData.length == 0">
      <app-not-result-found></app-not-result-found>
    </ng-container>
  </div>

  <div class="cs-table" *ngIf="wallet_history_type== 'transfer point'">
    <div class="sticky-head" style="top: -10px;">
      <div class="table-head">
        <table>
          <tr>
            <th class="w60">S.no.</th>
            <th class="w150">Date</th>
            <th class="w150">Transaction Type</th>
            <th class="text-right">Credit</th>
            <th class="text-right">Debit</th>
            <th class="w160 text-right">Balance</th>
          </tr>
        </table>
      </div>
      <div class="table-head border-top">
        <table class="sno-border">
          <tr>
            <th class="w60">&nbsp;</th>
            <th class="w150">
              <div class="th-search-acmt">
                <mat-form-field class="cs-input date-column infix-bodr">
                  <input matInput [matDatepicker]="picker5" placeholder="Date" name="date"
                  [(ngModel)]="filter.date_created" (dateChange)="date_format(tabType)" disabled>
                  <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                  <mat-datepicker #picker5 disabled="false"></mat-datepicker>
                </mat-form-field>
              </div>
            </th>
            <th class="w150 text-right">
              <div class="th-search-acmt">
                <mat-form-field>
                  <input type="text" matInput placeholder="Search ..." name="transaction_type"
                  (keyup.enter)="gettransferpoint()" #transaction_type="ngModel" [(ngModel)]="filter.transaction_type">
                  <mat-autocomplete #search="matAutocomplete">
                    <mat-option>
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
              </div>
            </th>
            <th class="text-right">&nbsp;</th>
            <th class="text-right">&nbsp;</th>
            <th class="w160">&nbsp;</th>
          </tr>
        </table>
      </div>
    </div>
    <div class="table-container">
      <div class="table-content">
        <table>
          <ng-container *ngIf="!loader">
            <tr *ngFor="let row of transferPointData; let i =index">
              <td class="w60">{{i+1+sr_no}}</td>
              <td class="w150">{{row.date_created | date : 'dd MMM yyy ,h:mm a'}}</td>
              <td class="w150">{{row.transaction_type}}</td>
              <td class="text-right">
                <strong class="green-clr" *ngIf="row.credit > 0">+ {{row.credit}} PT</strong>
                <ng-container *ngIf="row.credit == 0">---</ng-container>
                <br>
                <ng-container *ngIf="row.credit > 0">{{row.transaction_remark}}</ng-container>
              </td>
              <td class="text-right">
                <strong class="red-clr" *ngIf="row.debit > 0">- {{row.debit}} PT</strong>
                <ng-container *ngIf="row.debit == 0">---</ng-container>
                <br>
                <ng-container *ngIf="row.debit > 0">{{row.transaction_remark}}</ng-container>
              </td>
              <td class="w160 text-right">
                <strong>{{row.balance}} PT</strong>
              </td>
            </tr>
          </ng-container>

          <ng-container *ngIf="loader">
            <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
              <td class="w60">
                <div>&nbsp;</div>
              </td>
              <td class="w150">
                <div>&nbsp;</div>
              </td>
              <td class="w150">
                <div>&nbsp;</div>
              </td>
              <td>
                <div>&nbsp;</div>
              </td>
              <td>
                <div>&nbsp;</div>
              </td>
              <td class="w160">
                <div>&nbsp;</div>
              </td>
            </tr>
          </ng-container>
        </table>
      </div>
    </div>
    <ng-container *ngIf="transferPointData.length == 0">
      <app-not-result-found></app-not-result-found>
    </ng-container>
  </div>


  <div class="cs-table  horizontal-scroll" *ngIf="wallet_history_type== 'scan_history'">
    <div class="sticky-head" style="top: -10px;">
      <div class="table-head">
        <table>
          <tr>
            <th class="w60">Sr.No</th>
            <th class="w140">Coupon Code</th>
            <th class="w250">Product Detail</th>
            <th class="w100">Dispatch Date</th>
            <th class="w100">Dispatch Type</th>
            <th class="w250">Dealer Detail</th>
            <th class="w130">Invoice No.</th>
            <th class="w110 text-right">Coupon value</th>
            <th class="w100">Scan Date</th>
            <th class="w180">Bonus Name</th>
            <th class="w110 text-right">Bonus Point</th>

          </tr>
        </table>
      </div>
    </div>

    <div class="table-container">
      <div class="table-content">
        <table>
          <ng-container *ngIf="!loader">
            <tr *ngFor="let row of couponData let i = index;">
              <td class="w60">{{i+1+sr_no}}</td>
              <td class="w140">{{row.coupon_code?row.coupon_code:'---'}}</td>
              <td class="w250">{{row.product_detail?row.product_detail:'---'}}</td>
              <td class="w100">
                {{row.dispatch_date != "0000-00-00 00:00:00" ? (row.dispatch_date | date:'d MMM y') : '---'}}
              </td>
              <td class="w100">{{row.dispatch_type}}</td>
              <td class="w250">{{row.dr_detail}}</td>
              <td class="w130">{{row.invoice_number}}</td>
              <td class="w110 text-right">
                <strong>{{row.total_point?row.total_point + ' PT':'---'}}</strong>
              </td>
              <td class="w100">{{row.scanned_date | date:'d MMM y, h:mm a'}}</td>
              <td class="w180">{{row.bonus_scheme_name}}</td>
              <td class="w110 text-right"><strong>{{row.bonus_point?row.bonus_point + ' PT':'---'}}</strong></td>

            </tr>
          </ng-container>

          <ng-container *ngIf="loader">
            <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
              <td class="w60">
                <div>&nbsp;</div>
              </td>
              <td class="w140">
                <div>&nbsp;</div>
              </td>
              <td class="w250">
                <div>&nbsp;</div>
              </td>
              <td class="w100">
                <div>&nbsp;</div>
              </td>
              <td class="w100">
                <div>&nbsp;</div>
              </td>
              <td class="w250">
                <div>&nbsp;</div>
              </td>
              <td class="w130">
                <div>&nbsp;</div>
              </td>
              <td class="w110 text-right">
                <div>&nbsp;</div>
              </td>
              <td class="w100">
                <div>&nbsp;</div>
              </td>
              <td class="w180">
                <div>&nbsp;</div>
              </td>
              <td class="w110 text-right">
                <div>&nbsp;</div>
              </td>

            </tr>
          </ng-container>
          <ng-container *ngIf="couponData.length == 0">
            <app-not-result-found></app-not-result-found>
          </ng-container>
        </table>
      </div>
    </div>
  </div>


  <div class="cs-table horizontal-scroll" *ngIf="wallet_history_type== 'redeem_history'">
    <div class="sticky-head">
      <div class="table-head">
        <table>
          <tr>
            <th class="w60">Sr.No</th>
            <th class="w90">Date</th>
            <th class="w110">Req. ID</th>
            <th class="w200">Gift</th>
            <th class="w100 text-right">Points Request</th>
            <th class="w100 text-right">Equivalent Cash</th>
            <th class="w110">Redeem Status</th>
            <th class="w110">Gift Points Status</th>
          </tr>
        </table>
      </div>
    </div>

    <div class="table-container">
      <div class="table-content">
        <table>
          <ng-container *ngIf="!loader">
            <tr *ngFor="let row of redeemHistory; let i = index;">
              <td class="w60">{{i + 1 + sr_no}}</td>
              <td class="w90">{{row.date_created | date :'dd MMM yyyy'}}</td>
              <td class="w110"><a class="link-btn" [routerLink]="[ 'redeem-detail/', row.id ]"
                [queryParams]="{'id':row.id}">{{row.req_id ? row.req_id : '---'}}</a></td>
                <td class="w200">{{row.gift_name ? row.gift_name : '---'}}</td>
                <td class="w100 text-right"><strong>{{row.point ? row.point : '---'}}</strong></td>
                <td class="w100 text-right"><strong>{{row.cash_point ? row.cash_point : '---'}}</strong></td>
                <td class="w110"><strong class="{{row.status}}">{{row.status}}</strong> </td>
                <td class="w110"><strong class="{{row.gift_status}}">{{row.gift_status ? row.gift_status :
                  '---'}}</strong></td>
                </tr>
              </ng-container>

              <ng-container *ngIf="loader">
                <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
                  <td class="w60">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w90">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w110">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w200">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w100">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w100">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w110">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w110">
                    <div>&nbsp;</div>
                  </td>
                </tr>
              </ng-container>
              <ng-container *ngIf="redeemHistory.length == 0">
                <app-not-result-found></app-not-result-found>
              </ng-container>
            </table>
          </div>
        </div>
      </div>
    </div>




    <div *ngIf="tabType== 'advanceGIft'" style="margin: -10px -10px 0px -10px;">
      <div class="cs-table">
        <div class="sticky-head" style="top: -10px;">
          <div class="table-head">
            <table>
              <tr>
                <th class="w50">S.No</th>
                <th class="w90">Date Created</th>
                <th class="w100">Created By</th>
                <th class="w200">Gift Title</th>
                <th class="w140">Gift Adjustment Type</th>
                <th class="w100 text-right">Points</th>
                <th>Remark</th>
              </tr>
            </table>
          </div>

        </div>

        <div class="table-container">

          <div class="table-content">
            <table>
              <ng-container *ngIf="!checkinLoader">
                <tr *ngFor="let row of giftData; let i=index">
                  <td class="w50">{{i + 1 + sr_no}}</td>
                  <td class="w90">{{row.date_created | date:'dd MMM yyyy'}}</td>
                  <td class="w100">{{row.created_by_name}}</td>
                  <td class="w200">{{row.title}}</td>
                  <td class="w140">{{row.gift_type}}</td>
                  <td class="w100 text-right">{{row.gift_point > 0 ? row.gift_point : '---'}}</td>
                  <td>{{row.remark}}</td>
                </tr>
              </ng-container>
              <ng-container *ngIf="checkinLoader">
                <tr class="sk-loading" *ngFor="let row of [].constructor(10)">
                  <td class="w50">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w90">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w100">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w200">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w140">
                    <div>&nbsp;</div>
                  </td>
                  <td class="w100">
                    <div>&nbsp;</div>
                  </td>
                  <td>
                    <div>&nbsp;</div>
                  </td>
                </tr>
              </ng-container>
            </table>
          </div>
        </div>
        <ng-container *ngIf="giftData.length == 0">
          <app-not-result-found></app-not-result-found>
        </ng-container>
      </div>
    </div>



  </div>



  <div class="fab-btns" *ngIf="tabType== 'advanceGIft'">
    <button class="excel pulse" mat-fab color="primary" (click)="openDialog('advance_gift')">
      <i class="material-icons">redeem</i>
      Add GIft
    </button>
  </div>

  <div class="fab-btns" *ngIf="tabType== 'transaction' &&  Influencer_Detail.type=='3'">
    <button class="excel pulse" mat-fab color="primary" (click)="openDialog('point_transfer')">
      <i class="material-icons">swap_horiz</i>
      Point Transfer
    </button>
  </div>
</div>
